---
title: "flipper bootstrap empirical distribution"
output:  
  html_document:
    theme: readable
    css: !expr here::here("formatting", "css", "styles.css")
    toc: TRUE
    toc_float: TRUE
    code_folding: hide
editor_options: 
  chunk_output_type: console
---


Question
========

```{r CSS, echo = FALSE, results = "asis"}

cat(readLines(here::here("formatting", "css", "styles.css")))
require(palmerpenguins, quietly = TRUE)
sse_mean = function(x) 
{
  # You have to use na.rm = TRUE
  sample_sd = sd(x, na.rm = TRUE)
   
  # There are many ways to calculate the number of non-missing
  # elements in x.
  n = sum(!is.na(x))

  return (sample_sd / sqrt(n))
}
```

<div class="instructionsborder">

#### Instructions

- Use the `two.boot()` function to calculate 10000 bootstrap replicates of the difference in mean flipper length of Chinstrap and Adelie penguins.
  - Save the output of `two.boot()` to a variable called `pen_boot`.  This is so that I can replicate your code easily on my machine for grading and assistance.

- Create a distribution function from `pen_boot` using `ecdf()`.  
  - Name the function created by `ecdf()` `pen_ecdf`. 
  - The `ecdf()` function is a little different than other functions that we've worked with because it returns a new function.  You can use the new function to calculate the cumulative density.


</div>


<div class="hintborder">

- Hint: you'll need to investigate the structure of `pen_boot` to figure out what component contains the bootstrapped differences.

</div>

<div class="questionborder">

### Q1 1 pt. (R code)

- Paste the code you used to create `pen_ecdf()`

</div>


Solution
========

### Grading Guide

The students should use `pen_ecdf = ecdf(pen_boot$t)`

Sample implementation:

```{r q_03_flipper_btstrp_ci, reuslts='hold', message = FALSE, warn = FALSE, results = 'hide', }
require(palmerpenguins)
require(simpleboot)
require(boot)

penguin_dat = droplevels(subset(penguins, species != "Gentoo"))

R = 1000

pen_boot = 
  two.boot(
    subset(penguin_dat, species == "Adelie")$flipper_length_mm,
    subset(penguin_dat, species == "Chinstrap")$flipper_length_mm,
    FUN = mean,
    R = 10000,
    na.rm = TRUE
  )

pen_ecdf = ecdf(pen_boot$t)
pen_ecdf(0)
```



Meta-information
================
extitle: flipper bootstrap empirical distribution

extype: string

exsolution: nil

exname: lab_08
exsection: lab_08

exextra[essay,logical]: TRUE
exextra[essay_format,character]: editor
exextra[essay_required,logical]: TRUE
exextra[essay_fieldlines,numeric]: 15

expoints: 1

