---
title: "parametric CI: Gentoo penguins"
output:  
  html_document:
    theme: readable
    css: !expr here::here("formatting", "css", "styles.css")
    toc: TRUE
    toc_float: TRUE
editor_options: 
  chunk_output_type: console
---


Question
========

```{r CSS, echo = FALSE, results = "asis"}

cat(readLines(here::here("formatting", "css", "styles.css")))
require(palmerpenguins, quietly = TRUE)
sse_mean = function(x) 
{
  # You have to use na.rm = TRUE
  sample_sd = sd(x, na.rm = TRUE)
  
  # There are many ways to calculate the number of non-missing
  # elements in x.
  n = sum(!is.na(x))
  
  return (sample_sd / sqrt(n))
}
```

<div class="instructionsborder">

#### Instructions

Review the bootstrap and parametric confidence interval materials in the lab walkthrough.

- Calculate a *parametric* 95% CI for mean bill length (in mm) for the Gentoo penguins in
`penguins` dataset from package `palmerpenguins`.
- Use the student's t-distribution.  You'll need to:
- extract only the Gentoo penguin data from the main penguins data frame
- calculate n

</div>

<div class="questionborder">


### Q1 1 pt

- Paste the r code you used to perform the following:
- extract the bill length data for Gentoo penguins
- calculate the critical t-values
- calculate the sample mean, standard deviation, and standard error
- calculate the CI

</div>



Solution
========

My implementation:

```{r reuslts='hold'}
require(palmerpenguins)

sse_mean = function(x) {return (sd(x, na.rm = TRUE) / sqrt(sum(!is.na(x))))}
alpha = 0.05

dat_gentoo = subset(penguins, species == "Gentoo")
n = sum(!is.na(dat_gentoo$bill_length_mm))
t_crit = abs(qt(p = alpha / 2, df = n - 1))
sse_gentoo_bill = sse_mean(dat_gentoo$bill_length_mm)

c(
  lower_ci = mean(dat_gentoo$bill_length_mm, na.rm = TRUE) - sse_gentoo_bill * t_crit,
  upper_ci = mean(dat_gentoo$bill_length_mm, na.rm = TRUE) + sse_gentoo_bill * t_crit)

```

### Grading Guide

Be generous with partial credit.

Full credit if:

- Correct standard error calculation:
  - The students needed to realize that the call to sd() must have `na.rm - TRUE`.
  - They can use their `sse_mean` function from the previous lab.

- They must extract only the Gentoo penguins for the calculation

- The critical value needs to be from the **t-distribution**



- Ideally they would present the CI in a vector, or alternatively a `data.frame` as in the walkthrough:

```{r}
sample_mean = mean(subset(penguins, species == "Gentoo")$bill_length_mm, na.rm = TRUE)
ci_parametric = sse_gentoo_bill * t_crit
data.frame(
  technique = c("parametric: t-dist"),
  mean = sample_mean,
  ci_radius = ci_parametric,
  lower = sample_mean - ci_parametric,
  upper = sample_mean + ci_parametric
)
```






Meta-information
================
extitle: parametric CI: Gentoo penguins

extype: string

exsolution: nil

exname: lab_07

exsection: lab_07

exextra[essay,logical]: TRUE

exextra[essay_format,character]: editor

exextra[essay_required,logical]: TRUE

exextra[essay_fieldlines,numeric]: 12

expoints: 1



